{"ast":null,"code":"import { takeLatest, call, put } from \"redux-saga/effects\";\nimport * as actions from \"../actions\";\nimport * as api from \"../../api\";\n\n// generator fct quand il y a un action a lieu\nfunction* fetchPostsSaga(action) {\n  try {\n    const posts = yield call(api.fetchPosts);\n    yield put(actions.getPosts.getPostsSuccess(posts.data));\n  } catch (err) {\n    yield put(actions.getPosts.getPostsFailure(err));\n  }\n}\nfunction* createPostSaga(action) {\n  try {\n    const post = yield call(api.createPost, action.payload);\n    yield put(actions.createPost.createPostSuccess(post.data));\n  } catch (err) {\n    yield put(actions.createPost.createPostFailure(err));\n  }\n}\nfunction* updatePostSaga(action) {\n  try {\n    console.log(\"updatePostSaga\", {\n      action\n    });\n    const updatedPost = yield call(api.updatePost, action.payload);\n    console.log(\"[updatePostSaga - post]\", updatedPost);\n    //trigger action\n    yield put(actions.updatePost.updatePostSuccess(updatedPost.data));\n  } catch (err) {\n    console.error(err);\n    yield put(actions.updatePost.updatePostFailure(err));\n  }\n}\nfunction* postSaga() {\n  yield takeLatest(actions.getPosts.getPostsRequest, fetchPostsSaga);\n  yield takeLatest(actions.createPost.createPostRequest, createPostSaga);\n  yield takeLatest(actions.updatePost.updatePostRequest, updatePostSaga);\n}\nexport default postSaga;","map":{"version":3,"names":["takeLatest","call","put","actions","api","fetchPostsSaga","action","posts","fetchPosts","getPosts","getPostsSuccess","data","err","getPostsFailure","createPostSaga","post","createPost","payload","createPostSuccess","createPostFailure","updatePostSaga","console","log","updatedPost","updatePost","updatePostSuccess","error","updatePostFailure","postSaga","getPostsRequest","createPostRequest","updatePostRequest"],"sources":["C:/WEB/WEB_APPLICATION_MASTER/client/src/redux/sagas/post.saga.js"],"sourcesContent":["import { takeLatest, call, put } from \"redux-saga/effects\";\nimport * as actions from \"../actions\";\nimport * as api from \"../../api\";\n\n// generator fct quand il y a un action a lieu\nfunction* fetchPostsSaga(action) {\n    try {\n        const posts = yield call(api.fetchPosts);\n        yield put(actions.getPosts.getPostsSuccess(posts.data));\n    } catch (err) {\n        yield put(actions.getPosts.getPostsFailure(err));\n    }\n}\n\nfunction* createPostSaga(action) {\n    try {\n        const post = yield call(api.createPost, action.payload);\n        yield put(actions.createPost.createPostSuccess(post.data));\n    } catch (err) {\n        yield put(actions.createPost.createPostFailure(err));\n    }\n}\n\nfunction* updatePostSaga(action) {\n    try {\n        console.log(\"updatePostSaga\", { action });\n        const updatedPost = yield call(api.updatePost, action.payload);\n        console.log(\"[updatePostSaga - post]\", updatedPost);\n        //trigger action\n        yield put(actions.updatePost.updatePostSuccess(updatedPost.data));\n    } catch (err) {\n        console.error(err);\n        yield put(actions.updatePost.updatePostFailure(err));\n    }\n}\n\nfunction* postSaga() {\n    yield takeLatest(actions.getPosts.getPostsRequest, fetchPostsSaga);\n    yield takeLatest(actions.createPost.createPostRequest, createPostSaga);\n    yield takeLatest(actions.updatePost.updatePostRequest, updatePostSaga);\n}\n\nexport default postSaga;"],"mappings":"AAAA,SAASA,UAAU,EAAEC,IAAI,EAAEC,GAAG,QAAQ,oBAAoB;AAC1D,OAAO,KAAKC,OAAO,MAAM,YAAY;AACrC,OAAO,KAAKC,GAAG,MAAM,WAAW;;AAEhC;AACA,UAAUC,cAAcA,CAACC,MAAM,EAAE;EAC7B,IAAI;IACA,MAAMC,KAAK,GAAG,MAAMN,IAAI,CAACG,GAAG,CAACI,UAAU,CAAC;IACxC,MAAMN,GAAG,CAACC,OAAO,CAACM,QAAQ,CAACC,eAAe,CAACH,KAAK,CAACI,IAAI,CAAC,CAAC;EAC3D,CAAC,CAAC,OAAOC,GAAG,EAAE;IACV,MAAMV,GAAG,CAACC,OAAO,CAACM,QAAQ,CAACI,eAAe,CAACD,GAAG,CAAC,CAAC;EACpD;AACJ;AAEA,UAAUE,cAAcA,CAACR,MAAM,EAAE;EAC7B,IAAI;IACA,MAAMS,IAAI,GAAG,MAAMd,IAAI,CAACG,GAAG,CAACY,UAAU,EAAEV,MAAM,CAACW,OAAO,CAAC;IACvD,MAAMf,GAAG,CAACC,OAAO,CAACa,UAAU,CAACE,iBAAiB,CAACH,IAAI,CAACJ,IAAI,CAAC,CAAC;EAC9D,CAAC,CAAC,OAAOC,GAAG,EAAE;IACV,MAAMV,GAAG,CAACC,OAAO,CAACa,UAAU,CAACG,iBAAiB,CAACP,GAAG,CAAC,CAAC;EACxD;AACJ;AAEA,UAAUQ,cAAcA,CAACd,MAAM,EAAE;EAC7B,IAAI;IACAe,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE;MAAEhB;IAAO,CAAC,CAAC;IACzC,MAAMiB,WAAW,GAAG,MAAMtB,IAAI,CAACG,GAAG,CAACoB,UAAU,EAAElB,MAAM,CAACW,OAAO,CAAC;IAC9DI,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEC,WAAW,CAAC;IACnD;IACA,MAAMrB,GAAG,CAACC,OAAO,CAACqB,UAAU,CAACC,iBAAiB,CAACF,WAAW,CAACZ,IAAI,CAAC,CAAC;EACrE,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVS,OAAO,CAACK,KAAK,CAACd,GAAG,CAAC;IAClB,MAAMV,GAAG,CAACC,OAAO,CAACqB,UAAU,CAACG,iBAAiB,CAACf,GAAG,CAAC,CAAC;EACxD;AACJ;AAEA,UAAUgB,QAAQA,CAAA,EAAG;EACjB,MAAM5B,UAAU,CAACG,OAAO,CAACM,QAAQ,CAACoB,eAAe,EAAExB,cAAc,CAAC;EAClE,MAAML,UAAU,CAACG,OAAO,CAACa,UAAU,CAACc,iBAAiB,EAAEhB,cAAc,CAAC;EACtE,MAAMd,UAAU,CAACG,OAAO,CAACqB,UAAU,CAACO,iBAAiB,EAAEX,cAAc,CAAC;AAC1E;AAEA,eAAeQ,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}