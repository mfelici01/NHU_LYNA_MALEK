{"ast":null,"code":"const {\n  isNotNullAndNotUndefined\n} = require(\"./validation.util\");\nfunction isLogin() {\n  return localStorage.getItem(\"token\") !== null && localStorage.getItem(\"token\") !== undefined;\n}\nfunction isAdmin() {\n  let user = JSON.parse(localStorage.getItem(\"user\"));\n  if (isNotNullAndNotUndefined(user)) {\n    return Array.from(user.roles).filter(v => v === \"ROLE_ADMIN\").length > 0;\n  }\n  return false;\n}\nfunction getUser() {\n  return JSON.parse(localStorage.getItem(\"user\"));\n}\nfunction authHeader() {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (user && user.accessToken) {\n    return {\n      \"x-access-token\": user.accessToken\n    };\n  } else {\n    return {};\n  }\n}\nconst authUtils = {\n  isLogin,\n  authHeader,\n  getUser,\n  isAdmin\n};\nmodule.exports = authUtils;","map":{"version":3,"names":["isNotNullAndNotUndefined","require","isLogin","localStorage","getItem","undefined","isAdmin","user","JSON","parse","Array","from","roles","filter","v","length","getUser","authHeader","accessToken","authUtils","module","exports"],"sources":["C:/WEB/WEB_APPLICATION_MASTER/client/src/utils/auth.util.js"],"sourcesContent":["const { isNotNullAndNotUndefined } = require(\"./validation.util\");\n\nfunction isLogin() {\n    return (\n        localStorage.getItem(\"token\") !== null &&\n        localStorage.getItem(\"token\") !== undefined\n    );\n}\n\nfunction isAdmin() {\n    let user = JSON.parse(localStorage.getItem(\"user\"));\n    if (isNotNullAndNotUndefined(user)) {\n        return (\n            Array.from(user.roles).filter((v) => v === \"ROLE_ADMIN\").length > 0\n        );\n    }\n    return false;\n}\n\nfunction getUser() {\n    return JSON.parse(localStorage.getItem(\"user\"));\n}\n\nfunction authHeader() {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user && user.accessToken) {\n        return { \"x-access-token\": user.accessToken };\n    } else {\n        return {};\n    }\n}\n\nconst authUtils = {\n    isLogin,\n    authHeader,\n    getUser,\n    isAdmin,\n};\n\nmodule.exports = authUtils;\n"],"mappings":"AAAA,MAAM;EAAEA;AAAyB,CAAC,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AAEjE,SAASC,OAAOA,CAAA,EAAG;EACf,OACIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,IAAI,IACtCD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,KAAKC,SAAS;AAEnD;AAEA,SAASC,OAAOA,CAAA,EAAG;EACf,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACN,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACnD,IAAIJ,wBAAwB,CAACO,IAAI,CAAC,EAAE;IAChC,OACIG,KAAK,CAACC,IAAI,CAACJ,IAAI,CAACK,KAAK,CAAC,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,KAAK,YAAY,CAAC,CAACC,MAAM,GAAG,CAAC;EAE3E;EACA,OAAO,KAAK;AAChB;AAEA,SAASC,OAAOA,CAAA,EAAG;EACf,OAAOR,IAAI,CAACC,KAAK,CAACN,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;AACnD;AAEA,SAASa,UAAUA,CAAA,EAAG;EAClB,MAAMV,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACN,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAErD,IAAIG,IAAI,IAAIA,IAAI,CAACW,WAAW,EAAE;IAC1B,OAAO;MAAE,gBAAgB,EAAEX,IAAI,CAACW;IAAY,CAAC;EACjD,CAAC,MAAM;IACH,OAAO,CAAC,CAAC;EACb;AACJ;AAEA,MAAMC,SAAS,GAAG;EACdjB,OAAO;EACPe,UAAU;EACVD,OAAO;EACPV;AACJ,CAAC;AAEDc,MAAM,CAACC,OAAO,GAAGF,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}