{"ast":null,"code":"import { takeLatest, call, put } from \"redux-saga/effects\";\nimport * as actions from \"../actions\";\nimport * as api from \"../../api\";\nfunction* login(action) {\n  try {\n    const resultLogin = yield call(api.login, action.payload);\n    localStorage.setItem(\"user\", JSON.stringify(resultLogin.data));\n    localStorage.setItem(\"token\", JSON.stringify(resultLogin.data.token));\n    yield put(actions.authAction.actionLoginSuccess(resultLogin.data));\n  } catch (err) {\n    yield put(actions.authAction.actionLoginFailure({\n      message: err.response.data.message\n    }));\n  }\n}\nfunction* authSaga() {\n  yield takeLatest(actions.authAction.actionLogin, login);\n}\nexport default authSaga;","map":{"version":3,"names":["takeLatest","call","put","actions","api","login","action","resultLogin","payload","localStorage","setItem","JSON","stringify","data","token","authAction","actionLoginSuccess","err","actionLoginFailure","message","response","authSaga","actionLogin"],"sources":["C:/WEB/WEB_APPLICATION_MASTER/client/src/redux/sagas/auth.saga.js"],"sourcesContent":["import { takeLatest, call, put } from \"redux-saga/effects\";\nimport * as actions from \"../actions\";\nimport * as api from \"../../api\";\n\nfunction* login(action) {\n    try {\n        const resultLogin = yield call(api.login, action.payload);\n        localStorage.setItem(\"user\", JSON.stringify(resultLogin.data));\n        localStorage.setItem(\"token\", JSON.stringify(resultLogin.data.token));\n        yield put(actions.authAction.actionLoginSuccess(resultLogin.data));\n    } catch (err) {\n        yield put(\n            actions.authAction.actionLoginFailure({\n                message: err.response.data.message,\n            })\n        );\n    }\n}\n\nfunction* authSaga() {\n    yield takeLatest(actions.authAction.actionLogin, login);\n}\n\nexport default authSaga;\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,IAAI,EAAEC,GAAG,QAAQ,oBAAoB;AAC1D,OAAO,KAAKC,OAAO,MAAM,YAAY;AACrC,OAAO,KAAKC,GAAG,MAAM,WAAW;AAEhC,UAAUC,KAAKA,CAACC,MAAM,EAAE;EACpB,IAAI;IACA,MAAMC,WAAW,GAAG,MAAMN,IAAI,CAACG,GAAG,CAACC,KAAK,EAAEC,MAAM,CAACE,OAAO,CAAC;IACzDC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,WAAW,CAACM,IAAI,CAAC,CAAC;IAC9DJ,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACL,WAAW,CAACM,IAAI,CAACC,KAAK,CAAC,CAAC;IACrE,MAAMZ,GAAG,CAACC,OAAO,CAACY,UAAU,CAACC,kBAAkB,CAACT,WAAW,CAACM,IAAI,CAAC,CAAC;EACtE,CAAC,CAAC,OAAOI,GAAG,EAAE;IACV,MAAMf,GAAG,CACLC,OAAO,CAACY,UAAU,CAACG,kBAAkB,CAAC;MAClCC,OAAO,EAAEF,GAAG,CAACG,QAAQ,CAACP,IAAI,CAACM;IAC/B,CAAC,CACL,CAAC;EACL;AACJ;AAEA,UAAUE,QAAQA,CAAA,EAAG;EACjB,MAAMrB,UAAU,CAACG,OAAO,CAACY,UAAU,CAACO,WAAW,EAAEjB,KAAK,CAAC;AAC3D;AAEA,eAAegB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}